using UnityEngine;
using UnityEditor;
using System;
using System.IO;
 
[InitializeOnLoad]
public class GitLFSTest {
   private static string expectedData =  "iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE6WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMy0xOVQxNzowMToyNC0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wMy0xOVQxNzowMToyNC0wNTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDMtMTlUMTc6MDE6MjQtMDU6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRkMTg0MGY4LWMyZTItYWU0My04NGRiLTIyMTdkZWU2YzE1OCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0ZDE4NDBmOC1jMmUyLWFlNDMtODRkYi0yMjE3ZGVlNmMxNTgiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0ZDE4NDBmOC1jMmUyLWFlNDMtODRkYi0yMjE3ZGVlNmMxNTgiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjRkMTg0MGY4LWMyZTItYWU0My04NGRiLTIyMTdkZWU2YzE1OCIgc3RFdnQ6d2hlbj0iMjAyMS0wMy0xOVQxNzowMToyNC0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz64DacMAAAAIUlEQVQImTXJoREAMAgAscD+O38FVxOTCUywUMjp2v5QPRvwDPoiSE90AAAAAElFTkSuQmCC";
   static GitLFSTest()
   {
       byte[] imageBytes = System.IO.File.ReadAllBytes(@"Assets/Editor/GitLFSTest.png");
       string base64String = Convert.ToBase64String(imageBytes);
       if (String.Compare(expectedData, base64String) == 0)
       {
           Debug.Log("GitLFS appears to be working in this repo.");
           return;
       }
       Debug.LogError("GitLFS does not appear to be working in this repo. Ask your Git expect for help.");
   }
}
